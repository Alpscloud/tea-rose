$(document).ready(function(){function t(t){var e=$(window).scrollTop(),a=$(t).attr("data-parallax-speed"),s=$(t).attr("data-parallax-direction");"horisontal-right"===s?$(t).css({transform:"translate3d("+e*a+"px, 0, 0)","-webkit-transform":"translate3d("+e*a+"px, 0, 0)","-o-transform":"translate3d("+e*a+"px, 0, 0)","-moz-transform":"translate3d("+e*a+"px, 0, 0)"}):"horisontal-left"===s?$(t).css({transform:"translate3d("+-e*a+"px, 0, 0)","-webkit-transform":"translate3d("+-e*a+"px, 0, 0)","-o-transform":"translate3d("+-e*a+"px, 0, 0)","-moz-transform":"translate3d("+-e*a+"px, 0, 0)"}):"vertical-top"===s?$(t).css({transform:"translate3d(0, "+-e*a+"px, 0)","-moz-transform":"translate3d(0, "+-e*a+"px, 0)","-ms-transform":"translate3d(0, "+-e*a+"px, 0)","-o-transform":"translate3d(0, "+-e*a+"px, 0)","-webkit-transform":"translate3d(0, "+-e*a+"px, 0)"}):"vertical-bottom"===s&&$(t).css({transform:"translate3d(0, "+e*a+"px, 0)","-moz-transform":"translate3d(0, "+e*a+"px, 0)","-ms-transform":"translate3d(0, "+e*a+"px, 0)","-o-transform":"translate3d(0, "+e*a+"px, 0)","-webkit-transform":"translate3d(0, "+e*a+"px, 0)"})}var e,a=$("body");a.width();$(window).on("scroll",function(){clearTimeout(e),a.hasClass("disable-hover")||a.addClass("disable-hover"),e=setTimeout(function(){a.removeClass("disable-hover")},200)}),$(".js-open-popup-form-btn").on("click",function(t){t.preventDefault(),$(".js-popup-form").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-add-to-cart-btn").on("click",function(t){t.preventDefault(),$(".js-popup-added-to-cart").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-login-btn").on("click",function(t){t.preventDefault(),$(".js-popup-login-form").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-restore-pw-form-btn").on("click",function(t){t.preventDefault(),$(".js-popup").fadeOut(300),$(".js-popup-restore-pw-form").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-edit-profile-form-btn").on("click",function(t){t.preventDefault(),$(".js-popup").fadeOut(300),$(".js-popup-edit-profile-form").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(t){t.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(t){t.stopPropagation();var e=$(this).find(".popup__body");e.is(t.target)||0!==e.has(t.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))}),$(".js-tab-content").not(":first").hide(),$(".js-tab-btn:first").addClass("is-active"),$(".js-tab-btn").on("click",function(t){t.preventDefault(),$(".js-tab-content").removeClass("is-active"),$(".js-tab-btn").removeClass("is-active").eq($(this).index()).addClass("is-active"),$(".js-tab-content").hide().eq($(this).index()).fadeIn().addClass("is-active")}).eq(0).addClass("is-active"),$("[data-fancybox]").fancybox({loop:!0,buttons:["close"]}),$(".js-toggle-filter-block-btn").on("click",function(t){t.preventDefault(),$(this).toggleClass("is-active"),$(this).next(".aside-form__filters--block").stop().slideToggle(150)}),$(".choise-bouquet__variant--label input").each(function(){$(this).on("change",function(){var t=$(".js-choise-results");t.hasClass("is-active")||t.addClass("is-active")})}),$(".js-choise-results-clear-btn").on("click",function(t){t.preventDefault();var e=$(".js-choise-results");e.hasClass("is-active")&&e.removeClass("is-active"),$(".choise-bouquet__variant--label input").each(function(){$(this);$(this).prop("checked",!1)})}),$(".product__quantity").on("click",function(t){var e=$(this).find(".js-quantity-input"),a=e.val(),s=$(t.target);if("plus"===s.attr("data-action")){if(e.val()>=999)return;a++,e.val(a)}else if("minus"===s.attr("data-action")){if(e.val()<=1)return;a--,e.val(a)}});var s=document.getElementById("price");if(s){noUiSlider.create(s,{connect:!0,behaviour:"tap",start:[0,99999],range:{min:[0],max:[99999]}});var n=[document.getElementById("priceMin"),document.getElementById("priceMax")],o=$(".js-price-input");s.noUiSlider.on("update",function(t,e){var a=Math.round(t[e]);n[e].value=a+" грн",o.val(a)}),$(".price-range__input").each(function(t){$(this).on("change",function(){s.noUiSlider.setHandle(t,this.value)})})}$(".cart-radio__input").each(function(t){var e=$(this);e.on("change",function(){e.prop("checked")&&($(".cart-block__body").stop().slideUp(150),e.parents(".cart-block").find(".cart-block__body").stop().slideDown(150))})}),$(".js-postcard-check").on("change",function(){$(".js-postcard-text").stop().slideToggle(150)}),$(".js-toggle-text-block-btn").on("click",function(t){t.preventDefault(),$(this).toggleClass("is-toggled"),$(this).parents(".product__description").find(".product__description--text span").stop().slideToggle(150)});new Swiper(".js-promo-slider",{speed:600,loop:!0,spaceBetween:0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".js-promo-slider-pagination",clickable:!0},navigation:{nextEl:".js-promo-slider-btn-next",prevEl:".js-promo-slider-btn-prev"},on:{init:function(){$(".js-promo-slider").parents(".promo-slider").find(".slider__loader").hide(200)}}}),new Swiper(".js-products-slider",{speed:600,loop:!0,slidesPerView:3,spaceBetween:0,autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".js-products-slider-btn-next",prevEl:".js-products-slider-btn-prev"}});$(".js-input").on("focus",function(){$(this).hasClass("is-error")&&$(this).removeClass("is-error")});var i=[],r=$(window).height()-200;$(".js-item-parallax").each(function(){var t=$(this).offset().top-r;i.push(t)}),$(".js-item-parallax").length>0&&$(window).on("scroll",function(e){$(this).scrollTop();$(".js-item-parallax").each(function(){t($(this))})}),$("input[type=tel]").mask("+38 (999) 999-99-99")});